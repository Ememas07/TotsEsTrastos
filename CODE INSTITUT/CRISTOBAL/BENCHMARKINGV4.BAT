@ECHO OFF
setlocal enableDelayedExpansion
set /p PC1= Quin pc vol acabar? (1, per exemple)
set /P Mes= Quin mes vol acabar? (01, per exemple)
set /P Any= Quin any vol fer? (2023, per exemple)
SET MITJA=0
SET PCFINAL=%PC1%
SET PC1=1
SET MESFINAL= %MES%
SET MES=1
:loop
CALL PC%PC1%.0%mes%.%any%.BAT

SET /A SUMACPU="%SUMACPU%+%CPU%" 
SET /A SUMACACHE1="%SUMACACHE1%+%CACHE1%" 
SET /A SUMACACHE2="%SUMACACHE2%+%CACHE1%" 
SET /A SUMACACHE3="%SUMACACHE3%+%CACHE3%" 
SET /A SUMARAM1="%SUMARAM1%+%RAM1%" 
SET /A SUMARAM2="%SUMARAM2%+%RAM2%" 
SET /A SUMAHD1="%SUMAHD1%+%HD1%" 
SET /A SUMAHD2="%SUMAHD2%+%HD2%" 
SET /A SUMATGRAFICA="%SUMATGRAFICA%+%TGRAFICA%" 
SET /A SUMATRED="%SUMATRED%+%TRED%" 
SET /A SUMAUSB1="%SUMAUSB1%+%USB1%" 
SET /A SUMAUSB2="%SUMAUSB2%+%USB2%" 
SET /A SUMAUSB3="%SUMAUSB3%+%USB3%" 
SET /A SUMADVD1="%SUMADVD1%+%DVD1%" 
SET /A SUMADVD2="%SUMADVD2%+%DVD2%"

ECHO HE FET PC%PC1%.0%mes%.%any%.BAT
SET /A MES="%MES%+1"
SET /A MITJA="%MITJA%+1"
if %MES% GTR %MESFINAL% goto :checkpc
goto loop


:checkpc
SET MES=1
SET /A PC1="%PC1%+1"
if %pc1% GTR %PCFINAL% goto :exitloop
goto loop
:exitloop
SET /A mes="%mes%-1"
SET /A MEDIACPU="%SUMACPU%/%mitja%" 
SET /A MEDIACACHE1="%SUMACACHE1%/%mitja%" 
SET /A MEDIACACHE2="%SUMACACHE2%/%mitja%" 
SET /A MEDIACACHE3="%SUMACACHE3%/%mitja%" 
SET /A MEDIARAM1="%SUMARAM1%/%mitja%" 
SET /A MEDIARAM2="%SUMARAM2%/%mitja%" 
SET /A MEDIAHD1="%SUMAHD1%/%mitja%" 
SET /A MEDIAHD2="%SUMAHD2%/%mitja%" 
SET /A MEDIATGRAFICA="%SUMATGRAFICA%/%mitja%" 
SET /A MEDIATRED="%SUMATRED%/%mitja%" 
SET /A MEDIAUSB1="%SUMAUSB1%/%mitja%" 
SET /A MEDIAUSB2="%SUMAUSB2%/%mitja%"
SET /A MEDIAUSB3="%SUMAUSB3%/%mitja%" 
SET /A MEDIADVD1="%SUMADVD1%/%mitja%" 
SET /A MEDIADVD2="%SUMADVD2%/%mitja%"
ECHO LA MITJA DEL VALOR DE CPU ES %MEDIACPU%
ECHO LA MITJA DEL VALOR DE CACHE1 ES %MEDIACACHE1% 
ECHO LA MITJA DEL VALOR DE CACHE2 ES %MEDIACACHE2% 
ECHO LA MITJA DEL VALOR DE CACHE3 ES %MEDIACACHE3%
ECHO LA MITJA DEL VALOR DE RAM1 ES %MEDIARAM1% 
ECHO LA MITJA DEL VALOR DE RAM2 ES %MEDIARAM2%
ECHO LA MITJA DEL VALOR DE HD1 ES %MEDIAHD1%
ECHO LA MITJA DEL VALOR DE HD2 ES %MEDIAHD2%
ECHO LA MITJA DEL VALOR DE TGRAFICA ES %MEDIATGRAFICA%
ECHO LA MITJA DEL VALOR DE TRED ES %MEDIATRED% 
ECHO LA MITJA DEL VALOR DE USB1 ES %MEDIAUSB1% 
ECHO LA MITJA DEL VALOR DE USB2 ES %MEDIAUSB2%
ECHO LA MITJA DEL VALOR DE USB3 ES %MEDIAUSB3% 
ECHO LA MITJA DEL VALOR DE DVD1 ES %MEDIADVD1% 
ECHO LA MITJA DEL VALOR DE DVD2 ES %MEDIADVD2%
PAUSE
